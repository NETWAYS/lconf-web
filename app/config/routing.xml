<?xml version="1.0" encoding="UTF-8"?>
<ae:configurations xmlns:ae="http://agavi.org/agavi/config/global/envelope/1.0" xmlns="http://icinga.org/appkit/config/parts/routing/1.0">
	<ae:configuration context="web">
		<routes>
            
			<!-- INDEX -->
			<route name="index_page" pattern="^/$" module="LConf" action="Interface.ViewMainEditor"/>
			
			<route name="modules" pattern="^/modules" stop="false">
			</route>
            
            <route name="styles" pattern="^/styles" module="%actions.default_module%" action="Widgets.SquishLoader">
                <route name=".css" pattern="^/css" output_type="css" />
            </route>

		</routes>
	</ae:configuration>
	
	<ae:configuration context="console">
		<routes>
			<route name="modules" pattern="">	
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="routing.modules.xml" xpointer="xmlns(r=http://icinga.org/appkit/config/parts/routing/1.0) xpointer(//r:module_routes/r:configuration[@context='console']/node())">
						<xi:fallback></xi:fallback>
				</xi:include>
			</route>
		</routes>
	</ae:configuration>
	
	<ae:configuration context="soap">
		<routes>
			<route name="modules" pattern="^/modules">	
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="routing.modules.xml" xpointer="xmlns(r=http://icinga.org/appkit/config/parts/routing/1.0) xpointer(//r:module_routes/r:configuration[@context='soap']/node())">
						<xi:fallback></xi:fallback>
				</xi:include>
			</route>
			
			<route name="serviceMain" pattern="getIcingaAPI" action="Icinga.ApiSearch" module="Web"/>
		</routes>
	</ae:configuration>
	
	<ae:configuration context="testing">
		<routes>
			<route name="modules" pattern="^/modules">	
				<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="routing.modules.xml" xpointer="xmlns(r=http://icinga.org/appkit/config/parts/routing/1.0) xpointer(//r:module_routes/r:configuration[@context='testing']/node())">
						<xi:fallback></xi:fallback>
				</xi:include>
			</route>
		</routes>
	</ae:configuration>
		
</ae:configurations>
